<!DOCTYPE html>
<html lang="pl">
<head>
<meta charset="UTF-8">
<title>Tajniak</title>
<style>
body {
    font-family: Arial, sans-serif;
    text-align: center;
    padding: 20px;
}
textarea, input {
    width: 90%;
    font-size: 16px;
}
button {
    font-size: 18px;
    padding: 10px 20px;
    margin-top: 15px;
}
#haslo {
    font-size: 28px;
    margin-top: 20px;
}
</style>
</head>
<body>

<h2>Tajniak</h2>

<h3>wybierz kategorie: </h3> 
<button class="kategoria"
oneclick=wybierzkategorie( 'zwierzeta')">
zwierzeta</button>
<button class="kategoria"
oneclick="wybierzkategorie('filmy')">filmy</button>button>
<button class="kategoria"
oneclick="wybierzkategorie('miko≈Ç√≥w')">miko≈Ç√≥w</button>
    
<div id="start">
   
    <p>Ilo≈õƒá graczy:</p>
    <input type="number" id="gracze" value="5" min="3">

    <p>S≈Çowa (jedno w linii):</p>

    <textarea id="slowa" rows="8" style="display:none;"></textarea>

    <br>
    <button onclick="pokazSlowa()">üëÅÔ∏è Poka≈º / Ukryj s≈Çowa</button>

    <br><br>
    <button onclick="start()">Start</button>
</div>

<div id="gra" style="display:none;">
    <h3 id="info"></h3>
    <button onclick="pokaz()">Poka≈º has≈Ço</button>
    <div id="haslo"></div>
    <br>
    <button onclick="dalej()" style="display:none;">Podaj telefon dalej</button>
</div>

<script>
let liczbaGraczy;
let aktualny = 0;
let oszust;
let slowo;
// ‚¨á‚¨á‚¨á Tutaj dodajemy logikƒô dla kategorii ‚¨á‚¨á‚¨á
const kategorie = {
    Zwierzeta: ["kot", "pies", "lew"],
    Przedmioty: ["samoch√≥d", "st√≥≈Ç", "telefon"],
    Filmy: ["Incepcja", "Matrix", "Avatar"],
    miko≈Ç√≥w: ["rynek", "trƒÖbka", "dnimiko≈Çowa"]
};

let wybranaKategoria = null;

function wybierzKategorie(nazwa) {
    wybranaKategoria = nazwa;
    alert("Wybrano kategoriƒô: " + nazwa);
}
// ‚¨Ü‚¨Ü‚¨Ü Koniec logiki kategorii ‚¨Ü‚¨Ü‚¨Ü
// Wczytaj zapisane s≈Çowa z localStorage przy starcie
window.onload = function() {
    const zapisane = localStorage.getItem("slowa");
    if (zapisane) {
        document.getElementById("slowa").value = zapisane;
    } else {
        // przyk≈Çadowe s≈Çowa domy≈õlne
        document.getElementById("slowa").value = "kot\npies\nsamolot\nnoc\nlas";
    }
}

function start() {
    // zapisz listƒô s≈Ç√≥w w localStorage
    localStorage.setItem("slowa", document.getElementById("slowa").value);

    liczbaGraczy = parseInt(document.getElementById("gracze").value);

    const lista = document.getElementById("slowa").value
        .split("\n")
        .map(s => s.trim())
        .filter(s => s.length > 0);

    if (lista.length === 0) {
        alert("Musisz wpisaƒá przynajmniej jedno s≈Çowo!");
        return;
    }

    oszust = Math.floor(Math.random() * liczbaGraczy);
    f (wybranaKategoria) {
    const listaK = kategorie[wybranaKategoria];
    slowo = listaK[Math.floor(Math.random() * listaK.length)];
} else {
    const lista = document.getElementById("slowa").value
        .split("\n")
        .map(s => s.trim())
        .filter(s => s.length > 0);
    slowo = lista[Math.floor(Math.random() * lista.length)];
}

    document.getElementById("start").style.display = "none";
    document.getElementById("gra").style.display = "block";
    pokazInfo();
}

function pokazInfo() {
    document.getElementById("info").innerText =
        "Gracz " + (aktualny + 1);
    document.getElementById("haslo").innerText = "";
    document.querySelector("button[onclick='dalej()']").style.display = "none";
}

function pokaz() {
    document.getElementById("haslo").innerText =
        (aktualny === oszust) ? "‚ùå BRAK HAS≈ÅA" : slowo;

    document.querySelector("button[onclick='dalej()']").style.display = "inline";
}

function dalej() {
    aktualny++;
    if (aktualny >= liczbaGraczy) {
        alert("Wszyscy gracze zobaczyli has≈Ça!");
        location.reload();
    } else {
        pokazInfo();
    }
}

function pokazSlowa() {
    const pole = document.getElementById("slowa");
    pole.style.display = (pole.style.display === "none") ? "block" : "none";
}
</script>

</body>
</html>



